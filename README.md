# Intro + Software and Hardware #
I am now beginning to learn STM32 since it is an important MCU to many industries. Starting off, I have the STM32L432KC Nucleo Board as my MCU. The software I am using is STM32CubeIDE and STM32CubeMX. Ubuntu 22.04 

# Getting it to work. #
Upon starting, I followed the guide on the STM website, getting started step by step, and for a while everything was going smoothly. The first guide demonstrates how to light the internal LED on the board. The guide begins with CubeMX, a software that aids in creating configurations for a project. After selecting the board in the CubeMX UI, the selected board can be displayed. The user can hover over and select the displayed pins on the board and change configuration settings for those pins. The internal LED on my STM32 is wired to GPIO3, in order to light it, I had to select that particular pin and change it from a reset state to a GPIO output. CubeMX also has clock configuration options along with a code generator that creates a project folder for CubeIDE to import. Once the project is imported to CubeIDE, the files generated from MX can be seen in the IDE’s workspace. main.c was selected and inside of its main function is a while loop where code is placed. The code makes use of the HAL library, using functions that toggle the LED pin. 
It was a simple task, flash the internal LED and delay it for 100ms. I wanted to be thorough and make sure everything was working, I changed the code to delay for 1000ms, and nothing changed. Here starts the beginning, to what I now know based on research, a large amount of time spent on getting familiar with the ‘quirkiness’ of STM32CubeIDE. My first issue was fairly common, I tried cleaning the project and building it again, checking the system clock to check the TimeBase, and then I hit the root of the problem, my debugger couldn’t determine the GDB version. I didn’t have a crucial library for the GDB named libncurses5. I downloaded the library and decided to take a break… where my laptop had run out of power while CubeIDE was still running. 
When I powered my laptop back on, I received the error message when opening the IDE, “Java is not responding”, failing to load the IDE whatsoever. I tried killing any stuck instance and tried a new workspace through the terminal. This successfully loaded the software but it was stuck hanging from the terminal, opening it from the icon or inside its folder resulted in the same Java error message. I tried several options, going as far to uninstalling the software and installing it again, only for the issue to persist. I removed the .metadata for the corrupted workspace again. After trying a few solutions I found online, a new error message was being given that indicated my CubeIDE installation was broken, meaning I had to uninstall and install it once again. I found a wrapper script used to create a new icon that will point to the new install and my CubeIDE icon was finally loading. I could finally get back to working on getting altered code flashed to the STM32 to change the delay in LED blinks… Wait, my IOC file won’t display, oh, and the debugger is also not functioning again, and CubeMX no longer generates code. 
First, for the IOC blank screen, I read several posts that this is a result of corrupted workspace data, likely being corrupted from when my device lost power. However, I created a new project and generated the configuration code from CubeMX, only to have the issue persist. I had already cleared the corrupted metadata, tried a completely new workspace, updated CubeIDE and had no positive results. I’m not entirely sure why this worked, but from the previous times I had uninstalled CubeIDE, my account had been logged out. Upon logging back in to CubeIDE, the IOC file was displayed and no longer greyed out, along with CubeMX now generating code. I saw that there are also issues with the Webkit being used, since the webkit directly interfaces the ioc file. Fixing the debugger involved downloading the library libncurses5, I had a newer version already installed, but this version in particular was needed. Additionally, my debugger was not pointing toward the right ELF, this was adjusted through the IDE’s debug configurations tab, setting the load executables and symbols to a check (formerly a minus) and then ensuring that the project was using the right ELF under C/C++ Applications tab found in the IDE. 
Now that my debugger was working, the updated code was successfully flashed to the STM32, and the rate of flashing decreased as intended. 
These issues were much more painful to deal with than to write about, and I have a feeling that these issues aren't just going to stop anytime soon. Future issues I have with the STM32 will be dedicated to their own section, if I write about it and have the resolved issues in writing, then I will be able to use it as a reference for future errors and save myself a bit of time. 

# Issues Encountered #
Previous startup printed output displays twice. The debugger holds the previous data from past flashes, often the ST-link buffer holds previous bits. The fix is as simple as unplugging the nucleo board and clearing/closing the serial program used to read output. Cleaner serial programs than screen are minicom and picocom. 
CubeMX does not directly open generated code to CubeIDE, projects must be directly imported from CubeIDE. Unresolved. 
TIM1/TIM2 issues when GPIO_Output is set to PA8-PA12. 

